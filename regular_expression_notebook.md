# 正则表达式笔记
![](https://www.runoob.com/wp-content/uploads/2014/03/runoob-regex.png)

正则表达式（Regular Expression，简称 Regex 或 RegExp）是一种用来匹配字符串中字符组合的模式。

正则表达式是一种用于模式匹配和搜索文本的工具。

正则表达式提供了一种灵活且强大的方式来查找、替换、验证和提取文本数据。

正则表达式可以应用于各种编程语言和文本处理工具中，如 JavaScript、Python、Java、Perl 等。

**正则表达式的模式**

正则表达式的模式可以包括以下内容：
* 字面值字符：例如字母、数字、空格等，可以直接匹配它们自身。
* 特殊字符：例如点号 .、星号 *、加号 +、问号 ? 等，它们具有特殊的含义和功能。
* 字符类：用方括号 [ ] 包围的字符集合，用于匹配方括号内的任意一个字符。
* 元字符：例如 \d、\w、\s 等，用于匹配特定类型的字符，如数字、字母、空白字符等。
* 量词：例如 {n}、{n,}、{n,m} 等，用于指定匹配的次数或范围。
* 边界符号：例如 ^、$、\b、\B 等，用于匹配字符串的开头、结尾或单词边界位置。
  
## 正则表达式 - 简介
**正则表达式元字符和特性**

字符匹配

* 普通字符：普通字符按照字面意义进行匹配，例如匹配字母 "a" 将匹配到文本中的 "a" 字符。
* 元字符：元字符具有特殊的含义，例如 \d 匹配任意数字字符，\w 匹配任意字母数字字符，. 匹配任意字符（除了换行符）等。

量词

* *：匹配前面的模式零次或1次或s多次。
* +：匹配前面的模式一次或多次。
* ?：匹配前面的模式零次或一次。
* {n}：匹配前面的模式恰好 n 次。
* {n,}：匹配前面的模式至少 n 次。
* {n,m}：匹配前面的模式至少 n 次且不超过 m 次。

字符类

* [ ]：匹配括号内的任意一个字符。例如，[abc] 匹配字符 "a"、"b" 或 "c"。
* [^ ]：匹配除了括号内的字符以外的任意一个字符。例如，[^abc] 匹配除了字符 "a"、"b" 或 "c" 以外的任意字符。

边界匹配

* ^：匹配字符串的开头。
* $：匹配字符串的结尾。
* \b：匹配单词边界。
* \B：匹配非单词边界。

分组和捕获

* ( )：用于分组和捕获子表达式。
* (?: )：用于分组但不捕获子表达式。

特殊字符

* \：转义字符，用于匹配特殊字符本身。
* .：匹配任意字符（除了换行符）。
* |：用于指定多个模式的选择。

## 正则表达式-断言
断言（Assertion）是正则表达式中用于指定匹配位置的元字符，它们不匹配任何实际字符，而是匹配字符之间的位置。

简单来说，断言就是"条件"，它要求目标字符串必须满足某些条件，但不会消耗字符。

断言的特点

* 零宽度：不占用匹配字符的位置
* 条件检查：只检查是否满足特定条件
* 不影响匹配结果：仅作为匹配的约束条件

实例
```javascript
// 示例：匹配后面跟着"bar"的"foo"
const regex = /foo(?=bar)/;
console.log(regex.test("foobar"));  // true
console.log(regex.test("food"));    // false
断言的类型
```

正则表达式中的断言主要分为两大类四种类型：
1. 先行断言（Lookahead Assertions）

检查当前位置之后是否匹配特定模式

**正向先行断言（Positive Lookahead）**

<kbd>语法：(?=pattern)</kbd>

匹配后面跟着 pattern 的位置。
实例
```javascript
// 匹配后面跟着数字的字母
const regex = /[a-z](?=\d)/;
console.log("a1".match(regex));  // ["a"]
```
**负向先行断言（Negative Lookahead）**

<kbd>语法：(?!pattern)</kbd>

匹配后面不跟着 pattern 的位置。

实例
```javascript
// 匹配后面不跟着数字的字母
const regex = /[a-z](?!\d)/;
console.log("ab".match(regex));  // ["a"]
```
2. 后行断言（Lookbehind Assertions）

检查当前位置之前是否匹配特定模式

**正向后行断言（Positive Lookbehind）**

<kbd>语法：(?<=pattern)</kbd>

匹配前面是 pattern 的位置。

实例
```javascript
// 匹配前面是$符号的数字
const regex = /(?<=\$)\d+/;
console.log("$100".match(regex));  // ["100"]
```
**负向后行断言（Negative Lookbehind）**

<kbd>语法：(?<!pattern)</kbd>

匹配前面不是 pattern 的位置。

实例
```javascript
// 匹配前面不是$符号的数字
const regex = /(?<!\$)\d+/;
console.log("€100".match(regex));  // ["100"]
```
## 常用正则表达式
1. 手机号验证(中国大陆)
^1[3-9]\d{9}$
2. 邮箱格式校验
^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$
3. 身份证号(18位)
^\d{17}[\dXx]$
4. IP地址(IPv4)
^((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$
5. 邮政编码(6位数字)
^ld{6}$
6. 电话号码(带区号)
^0\d{2,3}-\d{7,8}$
7. 密码强度(至少包含大小写字母+数字)
(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{8,}$
8. 去除前后空格
^\s+|is+$
9. 匹配中文字符
[\u4e00-lu9fa5]
10. 只允许字母和数字
^[A-Za-z0-9]+$
### 数据提取类
11. 提取URL中的域名
^[A-Za-z0-9]+$
12. 提取HTML标签内容
<(\w+)>(.*?)<\/\1>
13. 提取文件护展名
\.([a-zA-Z0-9]+)$
14. 提取邮箱用户名部分
^([^@]+)@
15. 提取日期中的年份
^(\d{4})-\d{2}-\d{2}
16. 提取日志中的时间戳
d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}
17. 提取JSON字段值
"key":\s*"([^"]+)”
18. 提取URL参数
[?8]([^=8]+)=([^8]*)